From ef5be4f703a31fb4d1bf2f5e76612b497b9dc34c Mon Sep 17 00:00:00 2001
From: Andreas Baierl <ichgeh@imkreisrum.de>
Date: Thu, 8 Nov 2018 15:45:17 +0100
Subject: [PATCH 46/47] lima/pp: Fix disassembler shift issue

---
 src/gallium/drivers/lima/ir/pp/disasm.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/gallium/drivers/lima/ir/pp/disasm.c b/src/gallium/drivers/lima/ir/pp/disasm.c
index b30f9ee..d2a3fb1 100644
--- a/src/gallium/drivers/lima/ir/pp/disasm.c
+++ b/src/gallium/drivers/lima/ir/pp/disasm.c
@@ -734,7 +734,7 @@ bitcopy(char *src, char *dst, unsigned bits, unsigned src_offset)
    for (int b = bits; b > 0; b -= 8, src++, dst++) {
       unsigned char out = ((unsigned char) *src) >> src_offset;
       if (src_offset > 0 && src_offset + b > 8)
-         out |= ((unsigned char) *(src + 1)) >> (8 - src_offset);
+         out |= ((unsigned char) *(src + 1)) << (8 - src_offset);
       *dst = (char) out;
    }
 }
-- 
2.0.1

