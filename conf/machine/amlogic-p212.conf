# Amlogic P212 board

require conf/machine/include/amlogic-s905x.inc

KERNEL_IMAGETYPE = "Image"

require conf/machine/include/amlogic-p212-dtb.inc

PREFERRED_PROVIDER_amlogic-fip-native = "amlogic-fip-p212"
PREFERRED_PROVIDER_virtual/bootloader = "u-boot-meson-gx"
PREFERRED_PROVIDER_u-boot = "u-boot-meson-gx"
PREFERRED_VERSION_u-boot-meson-gx = "2018.01%"

UBOOT_MACHINE = "p212_defconfig"
UBOOT_EXTLINUX = "1"
UBOOT_EXTLINUX_ROOT = "root=/dev/mmcblk1p1"
UBOOT_EXTLINUX_FDT = "../meson-gxl-s905x-p212.dtb"
UBOOT_EXTLINUX_CONSOLE = "console=ttyAML0"

MACHINE_ESSENTIAL_EXTRA_RDEPENDS += " \
	kernel-image \
	kernel-devicetree \
	u-boot-meson-gx \
"

# Generate an SDCard Image
IMAGE_FSTYPES = "ext4 sdcard"
IMAGE_CLASSES += "image_types_sdcard"
